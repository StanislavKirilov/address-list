(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),o=n(11),l=n.n(o),s=(n(38),n(26)),i=n(27),d=n(32),j=n(31),h=(n(39),n(10)),u=n(12),b=n(29),O=n(14),m=n(16),x=n(15),p=n(17),y=n(4),C=n(8),v=n(18),f=Object(v.b)({name:"contact",initialState:{contacts:[]},reducers:{add:function(e,t){t.payload.currentItem.id=e.contacts.length,e.contacts.push(t.payload.currentItem)},remove:function(e,t){var n=e.contacts.findIndex((function(e){return e.id===t.payload.id}));e.contacts.splice(n,1)},edit:function(e,t){var n=e.contacts.findIndex((function(e){return e.id===t.payload.id}));e.contacts[n]=t.payload}}}),g=function(e){return e.contact.contacts},_=f.actions,I=_.add,L=_.remove,w=_.edit,S=f.reducer;var F=function(e){var t,n=Object(u.b)(),r=Object(u.c)(g),o=Object(a.useState)({currentItem:r[e.contact.id]}),l=Object(h.a)(o,2),s=l[0],i=l[1],d=Object(a.useState)([]),j=Object(h.a)(d,2),b=j[0],v=j[1],f=Object(a.useState)(!1),_=Object(h.a)(f,2),I=_[0],L=_[1],S=function(e){var t=e.target.value;if(i({currentItem:Object(x.a)(Object(x.a)({},s.currentItem),{},Object(m.a)({},e.target.name,t))}),"postcode"===e.target.name&&t.length>=6){L(!1);var n="https://api.getAddress.io/autocomplete/".concat(t,"?api-key=41bLQnQ_HEiE5cBI2ZSJng29594");fetch(n).then((function(e){return e.json()})).then((function(e){var t=e;t=e.hasOwnProperty("length")?e:e.suggestions,v(t)})).catch((function(e){console.error(e)}))}};return t=I?void 0:Object(c.jsx)("div",{className:"autocomplete-holder",name:"postcode",onSelect:S,children:b.map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsx)("input",{type:"button",onClick:function(t){!function(e,t){var n=t.trim().split(",");s.currentItem.addr_line_1=n[0],s.currentItem.city=n[1],s.currentItem.country=n[2],i({currentItem:Object(x.a)({},s.currentItem)}),L(!0)}(0,e.address)},className:"autocomplete-button",value:e.address})},t)}))}),Object(c.jsx)("div",{children:Object(c.jsxs)(p.a,{show:e.show,onHide:e.handleClose,children:[Object(c.jsx)(p.a.Header,{closeButton:!0,children:Object(c.jsx)(p.a.Title,{children:"Edit Contact"})}),Object(c.jsx)(p.a.Body,{children:Object(c.jsx)("div",{className:"form",children:Object(c.jsxs)(y.a,{children:[Object(c.jsxs)(y.a.Row,{children:[Object(c.jsxs)(y.a.Group,{as:C.a,children:[Object(c.jsx)(y.a.Label,{htmlFor:"contact_name",children:"Name "}),Object(c.jsx)(y.a.Control,{value:s.currentItem.contact_name,type:"text",placeholder:"Contact Name",name:"contact_name",onChange:S,required:!0})]}),Object(c.jsxs)(y.a.Group,{as:C.a,children:[Object(c.jsx)(y.a.Label,{htmlFor:"email",children:"Email "}),Object(c.jsx)(y.a.Control,{value:s.currentItem.email,type:"email",placeholder:"Email",name:"email",onChange:S,required:!0})]}),Object(c.jsxs)(y.a.Group,{as:C.a,children:[Object(c.jsx)(y.a.Label,{htmlFor:"telephone",children:"Telephone "}),Object(c.jsx)(y.a.Control,{value:s.currentItem.telephone,type:"tel",placeholder:"Telephone",name:"telephone",onChange:S,required:!0})]})]}),Object(c.jsxs)(y.a.Group,{children:[Object(c.jsx)(y.a.Label,{htmlFor:"addr_line_1",children:"Addres Line 1 "}),Object(c.jsx)(y.a.Control,{value:s.currentItem.addr_line_1,type:"text",placeholder:"Address Line One",name:"addr_line_1",onChange:S,required:!0})]}),Object(c.jsxs)(y.a.Group,{children:[Object(c.jsx)(y.a.Label,{htmlFor:"addr_line_2",children:"Addres Line 2 "}),Object(c.jsx)(y.a.Control,{value:s.currentItem.addr_line_2,type:"text",placeholder:"Address Line Two",name:"addr_line_2",onChange:S})]}),Object(c.jsxs)(y.a.Row,{children:[Object(c.jsxs)(y.a.Group,{as:C.a,children:[Object(c.jsx)(y.a.Label,{htmlFor:"city",children:"City/Town "}),Object(c.jsx)(y.a.Control,{value:s.currentItem.city,type:"text",placeholder:"City/Town",name:"city",onChange:S,required:!0})]}),Object(c.jsxs)(y.a.Group,{as:C.a,children:[Object(c.jsx)(y.a.Label,{htmlFor:"county",children:"County "}),Object(c.jsx)(y.a.Control,{value:s.currentItem.county,type:"text",placeholder:"County",name:"county",onChange:S})]}),Object(c.jsxs)(y.a.Group,{as:C.a,children:[Object(c.jsx)(y.a.Label,{htmlFor:"postcode",children:"Postcode "}),Object(c.jsx)(y.a.Control,{value:s.currentItem.postcode,type:"text",placeholder:"PostCode",name:"postcode",onChange:S,required:!0}),t]})]})]})})}),Object(c.jsxs)(p.a.Footer,{children:[Object(c.jsx)(O.a,{onClick:function(t){n(w(s.currentItem)),e.handleClose()},variant:"outline-success",children:"Save"}),Object(c.jsx)(O.a,{onClick:e.handleClose,variant:"outline-danger",children:"Cancel"})]})]})})};var G=function(){var e,t=Object(u.b)(),n=Object(u.c)(g),r=Object(a.useState)(!1),o=Object(h.a)(r,2),l=o[0],s=o[1],i=Object(a.useState)({}),d=Object(h.a)(i,2),j=d[0],m=d[1],x=function(e,t){s(!0),m(t)};return l&&(e=Object(c.jsx)(F,{show:l,contact:j,handleClose:function(){return s(!1)}})),Object(c.jsxs)("div",{children:[Object(c.jsxs)(b.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",size:"sm",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"#"}),Object(c.jsx)("th",{children:"Contact Name"}),Object(c.jsx)("th",{children:"Telephone"}),Object(c.jsx)("th",{children:"Email"}),Object(c.jsx)("th",{colSpan:2,children:"Address"}),Object(c.jsx)("th",{children:"City/Town"}),Object(c.jsx)("th",{children:"County"}),Object(c.jsx)("th",{children:"PostCode"})]})}),Object(c.jsx)("tbody",{children:n.map((function(e,n){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:n+1}),Object(c.jsx)("td",{children:e.contact_name}),Object(c.jsx)("td",{children:e.telephone}),Object(c.jsx)("td",{children:e.email}),Object(c.jsxs)("td",{colSpan:"2",children:[e.addr_line_1," ",e.addr_line_2]}),Object(c.jsx)("td",{children:e.city}),Object(c.jsx)("td",{children:e.county}),Object(c.jsx)("td",{children:e.postcode}),Object(c.jsxs)("td",{children:[Object(c.jsx)(O.a,{variant:"outline-light",onClick:function(t){x(0,e)},children:"Edit"})," ",Object(c.jsx)(O.a,{onClick:function(n){!function(e,n){t(L(n))}(0,e)},variant:"outline-danger",children:"Delete"})," "]})]},n)}))})]}),e]})};n(46);var N=function(){var e,t=Object(u.b)(),n=Object(a.useState)({currentItem:{}}),r=Object(h.a)(n,2),o=r[0],l=r[1],s=Object(a.useState)([]),i=Object(h.a)(s,2),d=i[0],j=i[1],b=Object(a.useState)(!1),p=Object(h.a)(b,2),v=p[0],f=p[1],g=function(e){var t=e.target.value;if(l({currentItem:Object(x.a)(Object(x.a)({},o.currentItem),{},Object(m.a)({},e.target.name,t))}),"postcode"===e.target.name&&t.length>=5){f(!1);var n="https://api.getAddress.io/autocomplete/".concat(t,"?api-key=41bLQnQ_HEiE5cBI2ZSJng29594");fetch(n).then((function(e){return e.json()})).then((function(e){var t=e;t=e.hasOwnProperty("length")?e:e.suggestions,j(t)})).catch((function(e){console.error(e)}))}};return e=v?void 0:Object(c.jsx)("div",{className:"autocomplete-holder",name:"postcode",onSelect:g,children:d.map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsx)("input",{type:"button",onClick:function(t){!function(e,t){var n=t.trim().split(",");o.currentItem.addr_line_1=n[0],o.currentItem.city=n[1],o.currentItem.country=n[2],l({currentItem:Object(x.a)({},o.currentItem)}),f(!0)}(0,e.address)},className:"autocomplete-button",value:e.address})},t)}))}),Object(c.jsx)("div",{className:"form",children:Object(c.jsxs)(y.a,{className:"d-flex flex-column",onSubmit:function(e){e.preventDefault(),t(I(o)),e.target.reset(),l({currentItem:{}})},children:[Object(c.jsxs)(y.a.Row,{children:[Object(c.jsxs)(y.a.Group,{as:C.a,children:[Object(c.jsx)(y.a.Label,{htmlFor:"contact_name",children:"Name "}),Object(c.jsx)(y.a.Control,{type:"text",placeholder:"Contact Name",name:"contact_name",onChange:g,required:!0})]}),Object(c.jsxs)(y.a.Group,{as:C.a,children:[Object(c.jsx)(y.a.Label,{htmlFor:"email",children:"Email "}),Object(c.jsx)(y.a.Control,{type:"email",placeholder:"Email",name:"email",onChange:g,required:!0})]}),Object(c.jsxs)(y.a.Group,{as:C.a,children:[Object(c.jsx)(y.a.Label,{htmlFor:"telephone",children:"Telephone "}),Object(c.jsx)(y.a.Control,{type:"tel",placeholder:"Telephone",name:"telephone",onChange:g,required:!0})]})]}),Object(c.jsxs)(y.a.Row,{children:[Object(c.jsxs)(y.a.Group,{as:C.a,children:[Object(c.jsx)(y.a.Label,{htmlFor:"addr_line_1",children:"Addres Line 1 "}),Object(c.jsx)(y.a.Control,{type:"text",placeholder:"Address Line One",value:o.currentItem.addr_line_1,name:"addr_line_1",onChange:g,required:!0})]}),Object(c.jsxs)(y.a.Group,{as:C.a,children:[Object(c.jsx)(y.a.Label,{htmlFor:"addr_line_2",children:"Addres Line 2 "}),Object(c.jsx)(y.a.Control,{type:"text",placeholder:"Address Line Two",name:"addr_line_2",onChange:g})]})]}),Object(c.jsxs)(y.a.Row,{children:[Object(c.jsxs)(y.a.Group,{as:C.a,children:[Object(c.jsx)(y.a.Label,{htmlFor:"city",children:"City/Town "}),Object(c.jsx)(y.a.Control,{type:"text",placeholder:"City/Town",value:o.currentItem.city,name:"city",onChange:g,required:!0})]}),Object(c.jsxs)(y.a.Group,{as:C.a,children:[Object(c.jsx)(y.a.Label,{htmlFor:"county",children:"County "}),Object(c.jsx)(y.a.Control,{type:"text",placeholder:"County",value:o.currentItem.county,name:"county",onChange:g})]}),Object(c.jsxs)(y.a.Group,{as:C.a,children:[Object(c.jsx)(y.a.Label,{htmlFor:"postcode",children:"Postcode "}),Object(c.jsx)(y.a.Control,{type:"text",placeholder:"PostCode",value:o.currentItem.postcode,name:"postcode",onChange:g,maxLength:"8",required:!0}),e]})]}),Object(c.jsx)(O.a,{className:"align-self-end",variant:"outline-success",type:"submit",children:"Submit"})]})})},k=n(30),T=n(25),q=(n(47),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(c.jsxs)(k.a,{fluid:"sm",children:[Object(c.jsx)(T.a,{className:"justify-content-sm-center",children:Object(c.jsx)(C.a,{children:Object(c.jsx)(N,{})})}),Object(c.jsx)(T.a,{className:"justify-content-sm-center",children:Object(c.jsx)(C.a,{children:Object(c.jsx)(G,{})})})]})}}]),n}(r.a.Component)),E=Object(v.a)({reducer:{contact:S}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(u.a,{store:E,children:Object(c.jsx)(q,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.271e0bc2.chunk.js.map